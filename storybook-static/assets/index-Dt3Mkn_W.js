var kn=Object.defineProperty;var zn=(e,t,n)=>t in e?kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var k=(e,t,n)=>(zn(e,typeof t!="symbol"?t+"":t,n),n);const{once:Un}=__STORYBOOK_MODULE_CLIENT_LOGGER__,{FORCE_REMOUNT:Je,STORY_RENDER_PHASE_CHANGED:Yn,SET_CURRENT_STORY:Kn}=__STORYBOOK_MODULE_CORE_EVENTS__,{addons:Wn}=__STORYBOOK_MODULE_PREVIEW_API__,{global:P}=__STORYBOOK_MODULE_GLOBAL__;var Vn=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),qn={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Gn=Object.entries(qn);function Be(e){return String(e)}Be.open="";Be.close="";function Hn(e=!1){let t=typeof process<"u"?process:void 0,n=(t==null?void 0:t.env)||{},r=(t==null?void 0:t.argv)||[];return!("NO_COLOR"in n||r.includes("--no-color"))&&("FORCE_COLOR"in n||r.includes("--color")||(t==null?void 0:t.platform)==="win32"||e&&n.TERM!=="dumb"||"CI"in n)||typeof window<"u"&&!!window.chrome}function Jn(e=!1){let t=Hn(e),n=(u,o,s,a)=>{let c="",g=0;do c+=u.substring(g,a)+s,g=a+o.length,a=u.indexOf(o,g);while(~a);return c+u.substring(g)},r=(u,o,s=u)=>{let a=c=>{let g=String(c),h=g.indexOf(o,u.length);return~h?u+n(g,o,s,h)+o:u+g+o};return a.open=u,a.close=o,a},i={isColorSupported:t},l=u=>`\x1B[${u}m`;for(let[u,o]of Gn)i[u]=t?r(l(o[0]),l(o[1]),o[2]):Be;return i}var W=Jn(!1);function Xn(e,t){let n=Object.keys(e),r=t===null?n:n.sort(t);if(Object.getOwnPropertySymbols)for(let i of Object.getOwnPropertySymbols(e))Object.getOwnPropertyDescriptor(e,i).enumerable&&r.push(i);return r}function pe(e,t,n,r,i,l,u=": "){let o="",s=0,a=e.next();if(!a.done){o+=t.spacingOuter;let c=n+t.indent;for(;!a.done;){if(o+=c,s++===t.maxWidth){o+="…";break}let g=l(a.value[0],t,c,r,i),h=l(a.value[1],t,c,r,i);o+=g+u+h,a=e.next(),a.done?t.min||(o+=","):o+=`,${t.spacingInner}`}o+=t.spacingOuter+n}return o}function xe(e,t,n,r,i,l){let u="",o=0,s=e.next();if(!s.done){u+=t.spacingOuter;let a=n+t.indent;for(;!s.done;){if(u+=a,o++===t.maxWidth){u+="…";break}u+=l(s.value,t,a,r,i),s=e.next(),s.done?t.min||(u+=","):u+=`,${t.spacingInner}`}u+=t.spacingOuter+n}return u}function fe(e,t,n,r,i,l){let u="";e=e instanceof ArrayBuffer?new DataView(e):e;let o=a=>a instanceof DataView,s=o(e)?e.byteLength:e.length;if(s>0){u+=t.spacingOuter;let a=n+t.indent;for(let c=0;c<s;c++){if(u+=a,c===t.maxWidth){u+="…";break}(o(e)||c in e)&&(u+=l(o(e)?e.getInt8(c):e[c],t,a,r,i)),c<s-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+n}return u}function ke(e,t,n,r,i,l){let u="",o=Xn(e,t.compareKeys);if(o.length>0){u+=t.spacingOuter;let s=n+t.indent;for(let a=0;a<o.length;a++){let c=o[a],g=l(c,t,s,r,i),h=l(e[c],t,s,r,i);u+=`${s+g}: ${h}`,a<o.length-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+n}return u}var Zn=typeof Symbol=="function"&&Symbol.for?Symbol.for("jest.asymmetricMatcher"):1267621,Se=" ",Qn=(e,t,n,r,i,l)=>{let u=e.toString();if(u==="ArrayContaining"||u==="ArrayNotContaining")return++r>t.maxDepth?`[${u}]`:`${u+Se}[${fe(e.sample,t,n,r,i,l)}]`;if(u==="ObjectContaining"||u==="ObjectNotContaining")return++r>t.maxDepth?`[${u}]`:`${u+Se}{${ke(e.sample,t,n,r,i,l)}}`;if(u==="StringMatching"||u==="StringNotMatching"||u==="StringContaining"||u==="StringNotContaining")return u+Se+l(e.sample,t,n,r,i);if(typeof e.toAsymmetricMatcher!="function")throw new TypeError(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},vn=e=>e&&e.$$typeof===Zn,er={serialize:Qn,test:vn},tr=" ",kt=new Set(["DOMStringMap","NamedNodeMap"]),nr=/^(?:HTML\w*Collection|NodeList)$/;function rr(e){return kt.has(e)||nr.test(e)}var ir=e=>e&&e.constructor&&!!e.constructor.name&&rr(e.constructor.name);function lr(e){return e.constructor.name==="NamedNodeMap"}var ur=(e,t,n,r,i,l)=>{let u=e.constructor.name;return++r>t.maxDepth?`[${u}]`:(t.min?"":u+tr)+(kt.has(u)?`{${ke(lr(e)?[...e].reduce((o,s)=>(o[s.name]=s.value,o),{}):{...e},t,n,r,i,l)}}`:`[${fe([...e],t,n,r,i,l)}]`)},or={serialize:ur,test:ir};function zt(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function ze(e,t,n,r,i,l,u){let o=r+n.indent,s=n.colors;return e.map(a=>{let c=t[a],g=u(c,n,o,i,l);return typeof c!="string"&&(g.includes(`
`)&&(g=n.spacingOuter+o+g+n.spacingOuter+r),g=`{${g}}`),`${n.spacingInner+r+s.prop.open+a+s.prop.close}=${s.value.open}${g}${s.value.close}`}).join("")}function Ue(e,t,n,r,i,l){return e.map(u=>t.spacingOuter+n+(typeof u=="string"?Ut(u,t):l(u,t,n,r,i))).join("")}function Ut(e,t){let n=t.colors.content;return n.open+zt(e)+n.close}function cr(e,t){let n=t.colors.comment;return`${n.open}<!--${zt(e)}-->${n.close}`}function Ye(e,t,n,r,i){let l=r.colors.tag;return`${l.open}<${e}${t&&l.close+t+r.spacingOuter+i+l.open}${n?`>${l.close}${n}${r.spacingOuter}${i}${l.open}</${e}`:`${t&&!r.min?"":" "}/`}>${l.close}`}function Ke(e,t){let n=t.colors.tag;return`${n.open}<${e}${n.close} …${n.open} />${n.close}`}var sr=1,Yt=3,Kt=8,Wt=11,ar=/^(?:(?:HTML|SVG)\w*)?Element$/;function gr(e){try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}}function hr(e){let t=e.constructor.name,{nodeType:n,tagName:r}=e,i=typeof r=="string"&&r.includes("-")||gr(e);return n===sr&&(ar.test(t)||i)||n===Yt&&t==="Text"||n===Kt&&t==="Comment"||n===Wt&&t==="DocumentFragment"}var mr=e=>{var t;return((t=e==null?void 0:e.constructor)==null?void 0:t.name)&&hr(e)};function fr(e){return e.nodeType===Yt}function pr(e){return e.nodeType===Kt}function Ee(e){return e.nodeType===Wt}var yr=(e,t,n,r,i,l)=>{if(fr(e))return Ut(e.data,t);if(pr(e))return cr(e.data,t);let u=Ee(e)?"DocumentFragment":e.tagName.toLowerCase();return++r>t.maxDepth?Ke(u,t):Ye(u,ze(Ee(e)?[]:Array.from(e.attributes,o=>o.name).sort(),Ee(e)?{}:[...e.attributes].reduce((o,s)=>(o[s.name]=s.value,o),{}),t,n+t.indent,r,i,l),Ue(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,r,i,l),t,n)},_r={serialize:yr,test:mr},br="@@__IMMUTABLE_ITERABLE__@@",Sr="@@__IMMUTABLE_LIST__@@",Er="@@__IMMUTABLE_KEYED__@@",Or="@@__IMMUTABLE_MAP__@@",Xe="@@__IMMUTABLE_ORDERED__@@",dr="@@__IMMUTABLE_RECORD__@@",$r="@@__IMMUTABLE_SEQ__@@",wr="@@__IMMUTABLE_SET__@@",Tr="@@__IMMUTABLE_STACK__@@",ee=e=>`Immutable.${e}`,ye=e=>`[${e}]`,ue=" ",Ze="…";function Cr(e,t,n,r,i,l,u){return++r>t.maxDepth?ye(ee(u)):`${ee(u)+ue}{${pe(e.entries(),t,n,r,i,l)}}`}function Ar(e){let t=0;return{next(){if(t<e._keys.length){let n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}function Nr(e,t,n,r,i,l){let u=ee(e._name||"Record");return++r>t.maxDepth?ye(u):`${u+ue}{${pe(Ar(e),t,n,r,i,l)}}`}function Rr(e,t,n,r,i,l){let u=ee("Seq");return++r>t.maxDepth?ye(u):e[Er]?`${u+ue}{${e._iter||e._object?pe(e.entries(),t,n,r,i,l):Ze}}`:`${u+ue}[${e._iter||e._array||e._collection||e._iterable?xe(e.values(),t,n,r,i,l):Ze}]`}function Oe(e,t,n,r,i,l,u){return++r>t.maxDepth?ye(ee(u)):`${ee(u)+ue}[${xe(e.values(),t,n,r,i,l)}]`}var Mr=(e,t,n,r,i,l)=>e[Or]?Cr(e,t,n,r,i,l,e[Xe]?"OrderedMap":"Map"):e[Sr]?Oe(e,t,n,r,i,l,"List"):e[wr]?Oe(e,t,n,r,i,l,e[Xe]?"OrderedSet":"Set"):e[Tr]?Oe(e,t,n,r,i,l,"Stack"):e[$r]?Rr(e,t,n,r,i,l):Nr(e,t,n,r,i,l),Pr=e=>e&&(e[br]===!0||e[dr]===!0),Ir={serialize:Mr,test:Pr},Vt={exports:{}},d={},Qe;function Lr(){return Qe||(Qe=1,function(){var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),o=Symbol.for("react.server_context"),s=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),f=!1,_=!1,b=!1,O=!1,p=!1,$;$=Symbol.for("react.module.reference");function E(S){return!!(typeof S=="string"||typeof S=="function"||S===n||S===i||p||S===r||S===a||S===c||O||S===m||f||_||b||typeof S=="object"&&S!==null&&(S.$$typeof===h||S.$$typeof===g||S.$$typeof===l||S.$$typeof===u||S.$$typeof===s||S.$$typeof===$||S.getModuleId!==void 0))}function y(S){if(typeof S=="object"&&S!==null){var be=S.$$typeof;switch(be){case e:var he=S.type;switch(he){case n:case i:case r:case a:case c:return he;default:var He=he&&he.$$typeof;switch(He){case o:case u:case s:case h:case g:case l:return He;default:return be}}case t:return be}}}var w=u,I=l,A=e,D=s,U=n,x=h,L=g,F=t,V=i,q=r,ne=a,ge=c,re=!1,Ge=!1;function Tn(S){return re||(re=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1}function Cn(S){return Ge||(Ge=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1}function An(S){return y(S)===u}function Nn(S){return y(S)===l}function Rn(S){return typeof S=="object"&&S!==null&&S.$$typeof===e}function Mn(S){return y(S)===s}function Pn(S){return y(S)===n}function In(S){return y(S)===h}function Ln(S){return y(S)===g}function Dn(S){return y(S)===t}function Fn(S){return y(S)===i}function jn(S){return y(S)===r}function Bn(S){return y(S)===a}function xn(S){return y(S)===c}d.ContextConsumer=w,d.ContextProvider=I,d.Element=A,d.ForwardRef=D,d.Fragment=U,d.Lazy=x,d.Memo=L,d.Portal=F,d.Profiler=V,d.StrictMode=q,d.Suspense=ne,d.SuspenseList=ge,d.isAsyncMode=Tn,d.isConcurrentMode=Cn,d.isContextConsumer=An,d.isContextProvider=Nn,d.isElement=Rn,d.isForwardRef=Mn,d.isFragment=Pn,d.isLazy=In,d.isMemo=Ln,d.isPortal=Dn,d.isProfiler=Fn,d.isStrictMode=jn,d.isSuspense=Bn,d.isSuspenseList=xn,d.isValidElementType=E,d.typeOf=y}()),d}Vt.exports=Lr();var J=Vt.exports;function qt(e,t=[]){if(Array.isArray(e))for(let n of e)qt(n,t);else e!=null&&e!==!1&&e!==""&&t.push(e);return t}function ve(e){let t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(J.isFragment(e))return"React.Fragment";if(J.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(J.isContextProvider(e))return"Context.Provider";if(J.isContextConsumer(e))return"Context.Consumer";if(J.isForwardRef(e)){if(t.displayName)return t.displayName;let n=t.render.displayName||t.render.name||"";return n===""?"ForwardRef":`ForwardRef(${n})`}if(J.isMemo(e)){let n=t.displayName||t.type.displayName||t.type.name||"";return n===""?"Memo":`Memo(${n})`}}return"UNDEFINED"}function Dr(e){let{props:t}=e;return Object.keys(t).filter(n=>n!=="children"&&t[n]!==void 0).sort()}var Fr=(e,t,n,r,i,l)=>++r>t.maxDepth?Ke(ve(e),t):Ye(ve(e),ze(Dr(e),e.props,t,n+t.indent,r,i,l),Ue(qt(e.props.children),t,n+t.indent,r,i,l),t,n),jr=e=>e!=null&&J.isElement(e),Br={serialize:Fr,test:jr},xr=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.test.json"):245830487;function kr(e){let{props:t}=e;return t?Object.keys(t).filter(n=>t[n]!==void 0).sort():[]}var zr=(e,t,n,r,i,l)=>++r>t.maxDepth?Ke(e.type,t):Ye(e.type,e.props?ze(kr(e),e.props,t,n+t.indent,r,i,l):"",e.children?Ue(e.children,t,n+t.indent,r,i,l):"",t,n),Ur=e=>e&&e.$$typeof===xr,Yr={serialize:zr,test:Ur},Gt=Object.prototype.toString,Kr=Date.prototype.toISOString,Wr=Error.prototype.toString,et=RegExp.prototype.toString;function de(e){return typeof e.constructor=="function"&&e.constructor.name||"Object"}function Vr(e){return typeof window<"u"&&e===window}var qr=/^Symbol\((.*)\)(.*)$/,Gr=/\n/g,Ht=class extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}};function Hr(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}function Jr(e){return Object.is(e,-0)?"-0":String(e)}function Xr(e){return`${e}n`}function tt(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function nt(e){return String(e).replace(qr,"Symbol($1)")}function rt(e){return`[${Wr.call(e)}]`}function Jt(e,t,n,r){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";let i=typeof e;if(i==="number")return Jr(e);if(i==="bigint")return Xr(e);if(i==="string")return r?`"${e.replaceAll(/"|\\/g,"\\$&")}"`:`"${e}"`;if(i==="function")return tt(e,t);if(i==="symbol")return nt(e);let l=Gt.call(e);return l==="[object WeakMap]"?"WeakMap {}":l==="[object WeakSet]"?"WeakSet {}":l==="[object Function]"||l==="[object GeneratorFunction]"?tt(e,t):l==="[object Symbol]"?nt(e):l==="[object Date]"?Number.isNaN(+e)?"Date { NaN }":Kr.call(e):l==="[object Error]"?rt(e):l==="[object RegExp]"?n?et.call(e).replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&"):et.call(e):e instanceof Error?rt(e):null}function Xt(e,t,n,r,i,l){if(i.includes(e))return"[Circular]";i=[...i],i.push(e);let u=++r>t.maxDepth,o=t.min;if(t.callToJSON&&!u&&e.toJSON&&typeof e.toJSON=="function"&&!l)return G(e.toJSON(),t,n,r,i,!0);let s=Gt.call(e);return s==="[object Arguments]"?u?"[Arguments]":`${o?"":"Arguments "}[${fe(e,t,n,r,i,G)}]`:Hr(s)?u?`[${e.constructor.name}]`:`${o||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${fe(e,t,n,r,i,G)}]`:s==="[object Map]"?u?"[Map]":`Map {${pe(e.entries(),t,n,r,i,G," => ")}}`:s==="[object Set]"?u?"[Set]":`Set {${xe(e.values(),t,n,r,i,G)}}`:u||Vr(e)?`[${de(e)}]`:`${o||!t.printBasicPrototype&&de(e)==="Object"?"":`${de(e)} `}{${ke(e,t,n,r,i,G)}}`}function Zr(e){return e.serialize!=null}function Zt(e,t,n,r,i,l){let u;try{u=Zr(e)?e.serialize(t,n,r,i,l,G):e.print(t,o=>G(o,n,r,i,l),o=>{let s=r+n.indent;return s+o.replaceAll(Gr,`
${s}`)},{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(o){throw new Ht(o.message,o.stack)}if(typeof u!="string")throw new TypeError(`pretty-format: Plugin must return type "string" but instead returned "${typeof u}".`);return u}function Qt(e,t){for(let n of e)try{if(n.test(t))return n}catch(r){throw new Ht(r.message,r.stack)}return null}function G(e,t,n,r,i,l){let u=Qt(t.plugins,e);if(u!==null)return Zt(u,e,t,n,r,i);let o=Jt(e,t.printFunctionName,t.escapeRegex,t.escapeString);return o!==null?o:Xt(e,t,n,r,i,l)}var We={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},vt=Object.keys(We),j={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:Number.POSITIVE_INFINITY,maxWidth:Number.POSITIVE_INFINITY,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:We};function Qr(e){for(let t of Object.keys(e))if(!Object.prototype.hasOwnProperty.call(j,t))throw new Error(`pretty-format: Unknown option "${t}".`);if(e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.')}function vr(){return vt.reduce((e,t)=>{let n=We[t],r=n&&W[n];if(r&&typeof r.close=="string"&&typeof r.open=="string")e[t]=r;else throw new Error(`pretty-format: Option "theme" has a key "${t}" whose value "${n}" is undefined in ansi-styles.`);return e},Object.create(null))}function ei(){return vt.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null))}function en(e){return(e==null?void 0:e.printFunctionName)??j.printFunctionName}function tn(e){return(e==null?void 0:e.escapeRegex)??j.escapeRegex}function nn(e){return(e==null?void 0:e.escapeString)??j.escapeString}function it(e){return{callToJSON:(e==null?void 0:e.callToJSON)??j.callToJSON,colors:e!=null&&e.highlight?vr():ei(),compareKeys:typeof(e==null?void 0:e.compareKeys)=="function"||(e==null?void 0:e.compareKeys)===null?e.compareKeys:j.compareKeys,escapeRegex:tn(e),escapeString:nn(e),indent:e!=null&&e.min?"":ti((e==null?void 0:e.indent)??j.indent),maxDepth:(e==null?void 0:e.maxDepth)??j.maxDepth,maxWidth:(e==null?void 0:e.maxWidth)??j.maxWidth,min:(e==null?void 0:e.min)??j.min,plugins:(e==null?void 0:e.plugins)??j.plugins,printBasicPrototype:(e==null?void 0:e.printBasicPrototype)??!0,printFunctionName:en(e),spacingInner:e!=null&&e.min?" ":`
`,spacingOuter:e!=null&&e.min?"":`
`}}function ti(e){return Array.from({length:e+1}).join(" ")}function z(e,t){if(t&&(Qr(t),t.plugins)){let r=Qt(t.plugins,e);if(r!==null)return Zt(r,e,it(t),"",0,[])}let n=Jt(e,en(t),tn(t),nn(t));return n!==null?n:Xt(e,it(t),"",0,[])}var rn={AsymmetricMatcher:er,DOMCollection:or,DOMElement:_r,Immutable:Ir,ReactElement:Br,ReactTestComponent:Yr},lt={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},ni={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},te="…";function ri(e,t){let n=lt[ni[t]]||lt[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}function ii({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:i=!1,maxArrayLength:l=1/0,breakLength:u=1/0,seen:o=[],truncate:s=1/0,stylize:a=String}={},c){let g={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!i,maxArrayLength:Number(l),breakLength:Number(u),truncate:Number(s),seen:o,inspect:c,stylize:a};return g.colors&&(g.stylize=ri),g}function li(e){return e>="\uD800"&&e<="\uDBFF"}function H(e,t,n=te){e=String(e);let r=n.length,i=e.length;if(r>t&&i>r)return n;if(i>t&&i>r){let l=t-r;return l>0&&li(e[l-1])&&(l=l-1),`${e.slice(0,l)}${n}`}return e}function B(e,t,n,r=", "){n=n||t.inspect;let i=e.length;if(i===0)return"";let l=t.truncate,u="",o="",s="";for(let a=0;a<i;a+=1){let c=a+1===e.length,g=a+2===e.length;s=`${te}(${e.length-a})`;let h=e[a];t.truncate=l-u.length-(c?0:r.length);let m=o||n(h,t)+(c?"":r),f=u.length+m.length,_=f+s.length;if(c&&f>l&&u.length+s.length<=l||!c&&!g&&_>l||(o=c?"":n(e[a+1],t)+(g?"":r),!c&&g&&_>l&&f+o.length>l))break;if(u+=m,!c&&!g&&f+o.length>=l){s=`${te}(${e.length-a-1})`;break}s=""}return`${u}${s}`}function ui(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function oe([e,t],n){return n.truncate-=2,typeof e=="string"?e=ui(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}function oi(e,t){let n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;let r=B(e,t);t.truncate-=r.length;let i="";return n.length&&(i=B(n.map(l=>[l,e[l]]),t,oe)),`[ ${r}${i?`, ${i}`:""} ]`}var ci=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function Y(e,t){let n=ci(e);t.truncate-=n.length+4;let r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let i="";for(let u=0;u<e.length;u++){let o=`${t.stylize(H(e[u],t.truncate),"number")}${u===e.length-1?"":", "}`;if(t.truncate-=o.length,e[u]!==e.length&&t.truncate<=3){i+=`${te}(${e.length-e[u]+1})`;break}i+=o}let l="";return r.length&&(l=B(r.map(u=>[u,e[u]]),t,oe)),`${n}[ ${i}${l?`, ${l}`:""} ]`}function si(e,t){let n=e.toJSON();if(n===null)return"Invalid Date";let r=n.split("T"),i=r[0];return t.stylize(`${i}T${H(r[1],t.truncate-i.length-1)}`,"date")}function ut(e,t){let n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${H(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function ai([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}function gi(e){let t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}function hi(e,t){return e.size-1<=0?"Map{}":(t.truncate-=7,`Map{ ${B(gi(e),t,ai)} }`)}var mi=Number.isNaN||(e=>e!==e);function ot(e,t){return mi(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(H(String(e),t.truncate),"number")}function ct(e,t){let n=H(e.toString(),t.truncate-1);return n!==te&&(n+="n"),t.stylize(n,"bigint")}function fi(e,t){let n=e.toString().split("/")[2],r=t.truncate-(2+n.length),i=e.source;return t.stylize(`/${H(i,r)}/${n}`,"regexp")}function pi(e){let t=[];return e.forEach(n=>{t.push(n)}),t}function yi(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${B(pi(e),t)} }`)}var st=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),_i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},bi=16,Si=4;function Ei(e){return _i[e]||`\\u${`0000${e.charCodeAt(0).toString(bi)}`.slice(-Si)}`}function at(e,t){return st.test(e)&&(e=e.replace(st,Ei)),t.stylize(`'${H(e,t.truncate-2)}'`,"string")}function gt(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}var ln=()=>"Promise{…}";try{let{getPromiseDetails:e,kPending:t,kRejected:n}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(ln=(r,i)=>{let[l,u]=e(r);return l===t?"Promise{<pending>}":`Promise${l===n?"!":""}{${i.inspect(u,i)}}`})}catch{}var Oi=ln;function me(e,t){let n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.indexOf(e)>=0)return"[Circular]";t.seen.push(e);let i=B(n.map(o=>[o,e[o]]),t,oe),l=B(r.map(o=>[o,e[o]]),t,oe);t.seen.pop();let u="";return i&&l&&(u=", "),`{ ${i}${u}${l} }`}var $e=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function di(e,t){let n="";return $e&&$e in e&&(n=e[$e]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${me(e,t)}`}function $i(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${B(e,t)} ]`)}var wi=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description"];function Ti(e,t){let n=Object.getOwnPropertyNames(e).filter(u=>wi.indexOf(u)===-1),r=e.name;t.truncate-=r.length;let i="";typeof e.message=="string"?i=H(e.message,t.truncate):n.unshift("message"),i=i?`: ${i}`:"",t.truncate-=i.length+5;let l=B(n.map(u=>[u,e[u]]),t,oe);return`${r}${i}${l?` { ${l} }`:""}`}function Ci([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function Re(e,t){return B(e,t,un,`
`)}function un(e,t){let n=e.getAttributeNames(),r=e.tagName.toLowerCase(),i=t.stylize(`<${r}`,"special"),l=t.stylize(">","special"),u=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let o="";n.length>0&&(o+=" ",o+=B(n.map(c=>[c,e.getAttribute(c)]),t,Ci," ")),t.truncate-=o.length;let s=t.truncate,a=Re(e.children,t);return a&&a.length>s&&(a=`${te}(${e.children.length})`),`${i}${o}${l}${a}${u}`}var Ai=typeof Symbol=="function"&&typeof Symbol.for=="function",we=Ai?Symbol.for("chai/inspect"):"@@chai/inspect",Z=!1;try{let e=Vn("util");Z=e.inspect?e.inspect.custom:!1}catch{Z=!1}var ht=new WeakMap,mt={},ft={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:ot,Number:ot,bigint:ct,BigInt:ct,string:at,String:at,function:ut,Function:ut,symbol:gt,Symbol:gt,Array:oi,Date:si,Map:hi,Set:yi,RegExp:fi,Promise:Oi,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:$i,Int8Array:Y,Uint8Array:Y,Uint8ClampedArray:Y,Int16Array:Y,Uint16Array:Y,Int32Array:Y,Uint32Array:Y,Float32Array:Y,Float64Array:Y,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:Ti,HTMLCollection:Re,NodeList:Re},Ni=(e,t,n)=>we in e&&typeof e[we]=="function"?e[we](t):Z&&Z in e&&typeof e[Z]=="function"?e[Z](t.depth,t):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&ht.has(e.constructor)?ht.get(e.constructor)(e,t):mt[n]?mt[n](e,t):"",Ri=Object.prototype.toString;function Me(e,t={}){let n=ii(t,Me),{customInspect:r}=n,i=e===null?"null":typeof e;if(i==="object"&&(i=Ri.call(e).slice(8,-1)),i in ft)return ft[i](e,n);if(r&&e){let u=Ni(e,n,i);if(u)return typeof u=="string"?u:Me(u,n)}let l=e?Object.getPrototypeOf(e):!1;return l===Object.prototype||l===null?me(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?un(e,n):"constructor"in e?e.constructor!==Object?di(e,n):me(e,n):e===Object(e)?me(e,n):n.stylize(String(e),i)}var{AsymmetricMatcher:Mi,DOMCollection:Pi,DOMElement:Ii,Immutable:Li,ReactElement:Di,ReactTestComponent:Fi}=rn,pt=[Fi,Di,Ii,Pi,Li,Mi];function ce(e,t=10,{maxLength:n,...r}={}){let i=n??1e4,l;try{l=z(e,{maxDepth:t,escapeString:!1,plugins:pt,...r})}catch{l=z(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:pt,...r})}return l.length>=i&&t>1?ce(e,Math.floor(t/2)):l}var ji=/%[sdjifoOc%]/g;function Bi(...e){if(typeof e[0]!="string"){let l=[];for(let u=0;u<e.length;u++)l.push(ie(e[u],{depth:0,colors:!1}));return l.join(" ")}let t=e.length,n=1,r=e[0],i=String(r).replace(ji,l=>{if(l==="%%")return"%";if(n>=t)return l;switch(l){case"%s":{let u=e[n++];return typeof u=="bigint"?`${u.toString()}n`:typeof u=="number"&&u===0&&1/u<0?"-0":typeof u=="object"&&u!==null?ie(u,{depth:0,colors:!1}):String(u)}case"%d":{let u=e[n++];return typeof u=="bigint"?`${u.toString()}n`:Number(u).toString()}case"%i":{let u=e[n++];return typeof u=="bigint"?`${u.toString()}n`:Number.parseInt(String(u)).toString()}case"%f":return Number.parseFloat(String(e[n++])).toString();case"%o":return ie(e[n++],{showHidden:!0,showProxy:!0});case"%O":return ie(e[n++]);case"%c":return n++,"";case"%j":try{return JSON.stringify(e[n++])}catch(u){let o=u.message;if(o.includes("circular structure")||o.includes("cyclic structures")||o.includes("cyclic object"))return"[Circular]";throw u}default:return l}});for(let l=e[n];n<t;l=e[++n])l===null||typeof l!="object"?i+=` ${l}`:i+=` ${ie(l)}`;return i}function ie(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),Me(e,t)}function xi(e){return e===Object.prototype||e===Function.prototype||e===RegExp.prototype}function Pe(e){return Object.prototype.toString.apply(e).slice(8,-1)}function ki(e,t){let n=typeof t=="function"?t:r=>t.add(r);Object.getOwnPropertyNames(e).forEach(n),Object.getOwnPropertySymbols(e).forEach(n)}function on(e){let t=new Set;return xi(e)?[]:(ki(e,t),Array.from(t))}var cn={forceWritable:!1};function yt(e,t=cn){return Ie(e,new WeakMap,t)}function Ie(e,t,n=cn){let r,i;if(t.has(e))return t.get(e);if(Array.isArray(e)){for(i=Array(r=e.length),t.set(e,i);r--;)i[r]=Ie(e[r],t,n);return i}if(Object.prototype.toString.call(e)==="[object Object]"){i=Object.create(Object.getPrototypeOf(e)),t.set(e,i);let l=on(e);for(let u of l){let o=Object.getOwnPropertyDescriptor(e,u);if(!o)continue;let s=Ie(e[u],t,n);n.forceWritable?Object.defineProperty(i,u,{enumerable:o.enumerable,configurable:!0,writable:!0,value:s}):"get"in o?Object.defineProperty(i,u,{...o,get(){return s}}):Object.defineProperty(i,u,{...o,value:s})}return i}return e}function _t(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}var M=-1,N=1,C=0,T=class{constructor(e,t){k(this,0);k(this,1);this[0]=e,this[1]=t}},zi=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let n=0,r=Math.min(e.length,t.length),i=r,l=0;for(;n<i;)e.substring(l,i)===t.substring(l,i)?(n=i,l=n):r=i,i=Math.floor((r-n)/2+n);return i},sn=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let n=0,r=Math.min(e.length,t.length),i=r,l=0;for(;n<i;)e.substring(e.length-i,e.length-l)===t.substring(t.length-i,t.length-l)?(n=i,l=n):r=i,i=Math.floor((r-n)/2+n);return i},bt=function(e,t){let n=e.length,r=t.length;if(n===0||r===0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));let i=Math.min(n,r);if(e===t)return i;let l=0,u=1;for(;;){let o=e.substring(i-u),s=t.indexOf(o);if(s===-1)return l;u+=s,(s===0||e.substring(i-u)===t.substring(0,u))&&(l=u,u++)}},Ui=function(e){let t=!1,n=[],r=0,i=null,l=0,u=0,o=0,s=0,a=0;for(;l<e.length;)e[l][0]===C?(n[r++]=l,u=s,o=a,s=0,a=0,i=e[l][1]):(e[l][0]===N?s+=e[l][1].length:a+=e[l][1].length,i&&i.length<=Math.max(u,o)&&i.length<=Math.max(s,a)&&(e.splice(n[r-1],0,new T(M,i)),e[n[r-1]+1][0]=N,r--,r--,l=r>0?n[r-1]:-1,u=0,o=0,s=0,a=0,i=null,t=!0)),l++;for(t&&an(e),Wi(e),l=1;l<e.length;){if(e[l-1][0]===M&&e[l][0]===N){let c=e[l-1][1],g=e[l][1],h=bt(c,g),m=bt(g,c);h>=m?(h>=c.length/2||h>=g.length/2)&&(e.splice(l,0,new T(C,g.substring(0,h))),e[l-1][1]=c.substring(0,c.length-h),e[l+1][1]=g.substring(h),l++):(m>=c.length/2||m>=g.length/2)&&(e.splice(l,0,new T(C,c.substring(0,m))),e[l-1][0]=N,e[l-1][1]=g.substring(0,g.length-m),e[l+1][0]=M,e[l+1][1]=c.substring(m),l++),l++}l++}},St=/[^a-z0-9]/i,Et=/\s/,Ot=/[\r\n]/,Yi=/\n\r?\n$/,Ki=/^\r?\n\r?\n/;function Wi(e){function t(r,i){if(!r||!i)return 6;let l=r.charAt(r.length-1),u=i.charAt(0),o=l.match(St),s=u.match(St),a=o&&l.match(Et),c=s&&u.match(Et),g=a&&l.match(Ot),h=c&&u.match(Ot),m=g&&r.match(Yi),f=h&&i.match(Ki);return m||f?5:g||h?4:o&&!a&&c?3:a||c?2:o||s?1:0}let n=1;for(;n<e.length-1;){if(e[n-1][0]===C&&e[n+1][0]===C){let r=e[n-1][1],i=e[n][1],l=e[n+1][1],u=sn(r,i);if(u){let g=i.substring(i.length-u);r=r.substring(0,r.length-u),i=g+i.substring(0,i.length-u),l=g+l}let o=r,s=i,a=l,c=t(r,i)+t(i,l);for(;i.charAt(0)===l.charAt(0);){r+=i.charAt(0),i=i.substring(1)+l.charAt(0),l=l.substring(1);let g=t(r,i)+t(i,l);g>=c&&(c=g,o=r,s=i,a=l)}e[n-1][1]!==o&&(o?e[n-1][1]=o:(e.splice(n-1,1),n--),e[n][1]=s,a?e[n+1][1]=a:(e.splice(n+1,1),n--))}n++}}function an(e){e.push(new T(C,""));let t=0,n=0,r=0,i="",l="",u;for(;t<e.length;)switch(e[t][0]){case N:r++,l+=e[t][1],t++;break;case M:n++,i+=e[t][1],t++;break;case C:n+r>1?(n!==0&&r!==0&&(u=zi(l,i),u!==0&&(t-n-r>0&&e[t-n-r-1][0]===C?e[t-n-r-1][1]+=l.substring(0,u):(e.splice(0,0,new T(C,l.substring(0,u))),t++),l=l.substring(u),i=i.substring(u)),u=sn(l,i),u!==0&&(e[t][1]=l.substring(l.length-u)+e[t][1],l=l.substring(0,l.length-u),i=i.substring(0,i.length-u))),t-=n+r,e.splice(t,n+r),i.length&&(e.splice(t,0,new T(M,i)),t++),l.length&&(e.splice(t,0,new T(N,l)),t++),t++):t!==0&&e[t-1][0]===C?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,r=0,n=0,i="",l="";break}e[e.length-1][1]===""&&e.pop();let o=!1;for(t=1;t<e.length-1;)e[t-1][0]===C&&e[t+1][0]===C&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),o=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),o=!0)),t++;o&&an(e)}var gn="Compared values have no visual difference.",Vi="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.",hn={};Object.defineProperty(hn,"__esModule",{value:!0});var mn=hn.default=Ji,le="diff-sequences",R=0,se=(e,t,n,r,i)=>{let l=0;for(;e<t&&n<r&&i(e,n);)e+=1,n+=1,l+=1;return l},ae=(e,t,n,r,i)=>{let l=0;for(;e<=t&&n<=r&&i(t,r);)t-=1,r-=1,l+=1;return l},Te=(e,t,n,r,i,l,u)=>{let o=0,s=-e,a=l[o],c=a;l[o]+=se(a+1,t,r+a-s+1,n,i);let g=e<u?e:u;for(o+=1,s+=2;o<=g;o+=1,s+=2){if(o!==e&&c<l[o])a=l[o];else if(a=c+1,t<=a)return o-1;c=l[o],l[o]=a+se(a+1,t,r+a-s+1,n,i)}return u},dt=(e,t,n,r,i,l,u)=>{let o=0,s=e,a=l[o],c=a;l[o]-=ae(t,a-1,n,r+a-s-1,i);let g=e<u?e:u;for(o+=1,s-=2;o<=g;o+=1,s-=2){if(o!==e&&l[o]<c)a=l[o];else if(a=c-1,a<t)return o-1;c=l[o],l[o]=a-ae(t,a-1,n,r+a-s-1,i)}return u},qi=(e,t,n,r,i,l,u,o,s,a,c)=>{let g=r-t,h=n-t,m=i-r-h,f=-m-(e-1),_=-m+(e-1),b=R,O=e<o?e:o;for(let p=0,$=-e;p<=O;p+=1,$+=2){let E=p===0||p!==e&&b<u[p],y=E?u[p]:b,w=E?y:y+1,I=g+w-$,A=se(w+1,n,I+1,i,l),D=w+A;if(b=u[p],u[p]=D,f<=$&&$<=_){let U=(e-1-($+m))/2;if(U<=a&&s[U]-1<=D){let x=g+y-(E?$+1:$-1),L=ae(t,y,r,x,l),F=y-L,V=x-L,q=F+1,ne=V+1;c.nChangePreceding=e-1,e-1===q+ne-t-r?(c.aEndPreceding=t,c.bEndPreceding=r):(c.aEndPreceding=q,c.bEndPreceding=ne),c.nCommonPreceding=L,L!==0&&(c.aCommonPreceding=q,c.bCommonPreceding=ne),c.nCommonFollowing=A,A!==0&&(c.aCommonFollowing=w+1,c.bCommonFollowing=I+1);let ge=D+1,re=I+A+1;return c.nChangeFollowing=e-1,e-1===n+i-ge-re?(c.aStartFollowing=n,c.bStartFollowing=i):(c.aStartFollowing=ge,c.bStartFollowing=re),!0}}}return!1},Gi=(e,t,n,r,i,l,u,o,s,a,c)=>{let g=i-n,h=n-t,m=i-r-h,f=m-e,_=m+e,b=R,O=e<a?e:a;for(let p=0,$=e;p<=O;p+=1,$-=2){let E=p===0||p!==e&&s[p]<b,y=E?s[p]:b,w=E?y:y-1,I=g+w-$,A=ae(t,w-1,r,I-1,l),D=w-A;if(b=s[p],s[p]=D,f<=$&&$<=_){let U=(e+($-m))/2;if(U<=o&&D-1<=u[U]){let x=I-A;if(c.nChangePreceding=e,e===D+x-t-r?(c.aEndPreceding=t,c.bEndPreceding=r):(c.aEndPreceding=D,c.bEndPreceding=x),c.nCommonPreceding=A,A!==0&&(c.aCommonPreceding=D,c.bCommonPreceding=x),c.nChangeFollowing=e-1,e===1)c.nCommonFollowing=0,c.aStartFollowing=n,c.bStartFollowing=i;else{let L=g+y-(E?$-1:$+1),F=se(y,n,L,i,l);c.nCommonFollowing=F,F!==0&&(c.aCommonFollowing=y,c.bCommonFollowing=L);let V=y+F,q=L+F;e-1===n+i-V-q?(c.aStartFollowing=n,c.bStartFollowing=i):(c.aStartFollowing=V,c.bStartFollowing=q)}return!0}}}return!1},Hi=(e,t,n,r,i,l,u,o,s)=>{let a=r-t,c=i-n,g=n-t,h=i-r,m=h-g,f=g,_=g;if(u[0]=t-1,o[0]=n,m%2===0){let b=(e||m)/2,O=(g+h)/2;for(let p=1;p<=O;p+=1)if(f=Te(p,n,i,a,l,u,f),p<b)_=dt(p,t,r,c,l,o,_);else if(Gi(p,t,n,r,i,l,u,f,o,_,s))return}else{let b=((e||m)+1)/2,O=(g+h+1)/2,p=1;for(f=Te(p,n,i,a,l,u,f),p+=1;p<=O;p+=1)if(_=dt(p-1,t,r,c,l,o,_),p<b)f=Te(p,n,i,a,l,u,f);else if(qi(p,t,n,r,i,l,u,f,o,_,s))return}throw new Error(`${le}: no overlap aStart=${t} aEnd=${n} bStart=${r} bEnd=${i}`)},Le=(e,t,n,r,i,l,u,o,s,a)=>{if(i-r<n-t){if(l=!l,l&&u.length===1){let{foundSubsequence:U,isCommon:x}=u[0];u[1]={foundSubsequence:(L,F,V)=>{U(L,V,F)},isCommon:(L,F)=>x(F,L)}}let A=t,D=n;t=r,n=i,r=A,i=D}let{foundSubsequence:c,isCommon:g}=u[l?1:0];Hi(e,t,n,r,i,g,o,s,a);let{nChangePreceding:h,aEndPreceding:m,bEndPreceding:f,nCommonPreceding:_,aCommonPreceding:b,bCommonPreceding:O,nCommonFollowing:p,aCommonFollowing:$,bCommonFollowing:E,nChangeFollowing:y,aStartFollowing:w,bStartFollowing:I}=a;t<m&&r<f&&Le(h,t,m,r,f,l,u,o,s,a),_!==0&&c(_,b,O),p!==0&&c(p,$,E),w<n&&I<i&&Le(y,w,n,I,i,l,u,o,s,a)},$t=(e,t)=>{if(typeof t!="number")throw new TypeError(`${le}: ${e} typeof ${typeof t} is not a number`);if(!Number.isSafeInteger(t))throw new RangeError(`${le}: ${e} value ${t} is not a safe integer`);if(t<0)throw new RangeError(`${le}: ${e} value ${t} is a negative integer`)},wt=(e,t)=>{let n=typeof t;if(n!=="function")throw new TypeError(`${le}: ${e} typeof ${n} is not a function`)};function Ji(e,t,n,r){$t("aLength",e),$t("bLength",t),wt("isCommon",n),wt("foundSubsequence",r);let i=se(0,e,0,t,n);if(i!==0&&r(i,0,0),e!==i||t!==i){let l=i,u=i,o=ae(l,e-1,u,t-1,n),s=e-o,a=t-o,c=i+o;e!==c&&t!==c&&Le(0,l,s,u,a,!1,[{foundSubsequence:r,isCommon:n}],[R],[R],{aCommonFollowing:R,aCommonPreceding:R,aEndPreceding:R,aStartFollowing:R,bCommonFollowing:R,bCommonPreceding:R,bEndPreceding:R,bStartFollowing:R,nChangeFollowing:R,nChangePreceding:R,nCommonFollowing:R,nCommonPreceding:R}),o!==0&&r(o,s,a)}}function Xi(e,t){return e.replace(/\s+$/,n=>t(n))}function Ve(e,t,n,r,i,l){return e.length!==0?n(`${r} ${Xi(e,i)}`):r!==" "?n(r):t&&l.length!==0?n(`${r} ${l}`):""}function fn(e,t,{aColor:n,aIndicator:r,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return Ve(e,t,n,r,i,l)}function pn(e,t,{bColor:n,bIndicator:r,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return Ve(e,t,n,r,i,l)}function yn(e,t,{commonColor:n,commonIndicator:r,commonLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:l}){return Ve(e,t,n,r,i,l)}function Tt(e,t,n,r,{patchColor:i}){return i(`@@ -${e+1},${t-e} +${n+1},${r-n} @@`)}function Zi(e,t){let n=e.length,r=t.contextLines,i=r+r,l=n,u=!1,o=0,s=0;for(;s!==n;){let E=s;for(;s!==n&&e[s][0]===C;)s+=1;if(E!==s)if(E===0)s>r&&(l-=s-r,u=!0);else if(s===n){let y=s-E;y>r&&(l-=y-r,u=!0)}else{let y=s-E;y>i&&(l-=y-i,o+=1)}for(;s!==n&&e[s][0]!==C;)s+=1}let a=o!==0||u;o!==0?l+=o+1:u&&(l+=1);let c=l-1,g=[],h=0;a&&g.push("");let m=0,f=0,_=0,b=0,O=E=>{let y=g.length;g.push(yn(E,y===0||y===c,t)),_+=1,b+=1},p=E=>{let y=g.length;g.push(fn(E,y===0||y===c,t)),_+=1},$=E=>{let y=g.length;g.push(pn(E,y===0||y===c,t)),b+=1};for(s=0;s!==n;){let E=s;for(;s!==n&&e[s][0]===C;)s+=1;if(E!==s)if(E===0){s>r&&(E=s-r,m=E,f=E,_=m,b=f);for(let y=E;y!==s;y+=1)O(e[y][1])}else if(s===n){let y=s-E>r?E+r:s;for(let w=E;w!==y;w+=1)O(e[w][1])}else{let y=s-E;if(y>i){let w=E+r;for(let A=E;A!==w;A+=1)O(e[A][1]);g[h]=Tt(m,_,f,b,t),h=g.length,g.push("");let I=y-i;m=_+I,f=b+I,_=m,b=f;for(let A=s-r;A!==s;A+=1)O(e[A][1])}else for(let w=E;w!==s;w+=1)O(e[w][1])}for(;s!==n&&e[s][0]===M;)p(e[s][1]),s+=1;for(;s!==n&&e[s][0]===N;)$(e[s][1]),s+=1}return a&&(g[h]=Tt(m,_,f,b,t)),g.join(`
`)}function Qi(e,t){return e.map((n,r,i)=>{let l=n[1],u=r===0||r===i.length-1;switch(n[0]){case M:return fn(l,u,t);case N:return pn(l,u,t);default:return yn(l,u,t)}}).join(`
`)}var Ce=e=>e,_n=5,vi=0;function el(){return{aAnnotation:"Expected",aColor:W.green,aIndicator:"-",bAnnotation:"Received",bColor:W.red,bIndicator:"+",changeColor:W.inverse,changeLineTrailingSpaceColor:Ce,commonColor:W.dim,commonIndicator:" ",commonLineTrailingSpaceColor:Ce,compareKeys:void 0,contextLines:_n,emptyFirstOrLastLinePlaceholder:"",expand:!0,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:W.yellow,truncateThreshold:vi,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:Ce}}function tl(e){return e&&typeof e=="function"?e:void 0}function nl(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:_n}function X(e={}){return{...el(),...e,compareKeys:tl(e.compareKeys),contextLines:nl(e.contextLines)}}function Q(e){return e.length===1&&e[0].length===0}function rl(e){let t=0,n=0;return e.forEach(r=>{switch(r[0]){case M:t+=1;break;case N:n+=1;break}}),{a:t,b:n}}function il({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:r,bColor:i,bIndicator:l,includeChangeCounts:u,omitAnnotationLines:o},s){if(o)return"";let a="",c="";if(u){let m=String(s.a),f=String(s.b),_=r.length-e.length,b=" ".repeat(Math.max(0,_)),O=" ".repeat(Math.max(0,-_)),p=f.length-m.length,$=" ".repeat(Math.max(0,p)),E=" ".repeat(Math.max(0,-p));a=`${b}  ${n} ${$}${m}`,c=`${O}  ${l} ${E}${f}`}let g=`${n} ${e}${a}`,h=`${l} ${r}${c}`;return`${t(g)}
${i(h)}

`}function qe(e,t,n){return il(n,rl(e))+(n.expand?Qi(e,n):Zi(e,n))+(t?n.truncateAnnotationColor(`
${n.truncateAnnotation}`):"")}function _e(e,t,n){let r=X(n),[i,l]=bn(Q(e)?[]:e,Q(t)?[]:t,r);return qe(i,l,r)}function ll(e,t,n,r,i){if(Q(e)&&Q(n)&&(e=[],n=[]),Q(t)&&Q(r)&&(t=[],r=[]),e.length!==n.length||t.length!==r.length)return _e(e,t,i);let[l,u]=bn(n,r,i),o=0,s=0;return l.forEach(a=>{switch(a[0]){case M:a[1]=e[o],o+=1;break;case N:a[1]=t[s],s+=1;break;default:a[1]=t[s],o+=1,s+=1}}),qe(l,u,X(i))}function bn(e,t,n){let r=(n==null?void 0:n.truncateThreshold)??!1,i=Math.max(Math.floor((n==null?void 0:n.truncateThreshold)??0),0),l=r?Math.min(e.length,i):e.length,u=r?Math.min(t.length,i):t.length,o=l!==e.length||u!==t.length,s=(h,m)=>e[h]===t[m],a=[],c=0,g=0;for(mn(l,u,s,(h,m,f)=>{for(;c!==m;c+=1)a.push(new T(M,e[c]));for(;g!==f;g+=1)a.push(new T(N,t[g]));for(;h!==0;h-=1,c+=1,g+=1)a.push(new T(C,t[g]))});c!==l;c+=1)a.push(new T(M,e[c]));for(;g!==u;g+=1)a.push(new T(N,t[g]));return[a,o]}function Ct(e){return e.includes(`\r
`)?`\r
`:`
`}function ul(e,t,n){let r=(n==null?void 0:n.truncateThreshold)??!1,i=Math.max(Math.floor((n==null?void 0:n.truncateThreshold)??0),0),l=e.length,u=t.length;if(r){let h=e.includes(`
`),m=t.includes(`
`),f=Ct(e),_=Ct(t),b=h?`${e.split(f,i).join(f)}
`:e,O=m?`${t.split(_,i).join(_)}
`:t;l=b.length,u=O.length}let o=l!==e.length||u!==t.length,s=(h,m)=>e[h]===t[m],a=0,c=0,g=[];return mn(l,u,s,(h,m,f)=>{a!==m&&g.push(new T(M,e.slice(a,m))),c!==f&&g.push(new T(N,t.slice(c,f))),a=m+h,c=f+h,g.push(new T(C,t.slice(f,c)))}),a!==l&&g.push(new T(M,e.slice(a))),c!==u&&g.push(new T(N,t.slice(c))),[g,o]}function ol(e,t,n){return t.reduce((r,i)=>r+(i[0]===C?i[1]:i[0]===e&&i[1].length!==0?n(i[1]):""),"")}var At=class{constructor(e,t){k(this,"op");k(this,"line");k(this,"lines");k(this,"changeColor");this.op=e,this.line=[],this.lines=[],this.changeColor=t}pushSubstring(e){this.pushDiff(new T(this.op,e))}pushLine(){this.lines.push(this.line.length!==1?new T(this.op,ol(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new T(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return this.line.length===0}pushDiff(e){this.line.push(e)}align(e){let t=e[1];if(t.includes(`
`)){let n=t.split(`
`),r=n.length-1;n.forEach((i,l)=>{l<r?(this.pushSubstring(i),this.pushLine()):i.length!==0&&this.pushSubstring(i)})}else this.pushDiff(e)}moveLinesTo(e){this.isLineEmpty()||this.pushLine(),e.push(...this.lines),this.lines.length=0}},cl=class{constructor(e,t){k(this,"deleteBuffer");k(this,"insertBuffer");k(this,"lines");this.deleteBuffer=e,this.insertBuffer=t,this.lines=[]}pushDiffCommonLine(e){this.lines.push(e)}pushDiffChangeLines(e){let t=e[1].length===0;(!t||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(e),(!t||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(e)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(e){let t=e[0],n=e[1];if(n.includes(`
`)){let r=n.split(`
`),i=r.length-1;r.forEach((l,u)=>{if(u===0){let o=new T(t,l);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(o)):(this.pushDiffChangeLines(o),this.flushChangeLines())}else u<i?this.pushDiffCommonLine(new T(t,l)):l.length!==0&&this.pushDiffChangeLines(new T(t,l))})}else this.pushDiffChangeLines(e)}getLines(){return this.flushChangeLines(),this.lines}};function sl(e,t){let n=new At(M,t),r=new At(N,t),i=new cl(n,r);return e.forEach(l=>{switch(l[0]){case M:n.align(l);break;case N:r.align(l);break;default:i.align(l)}}),i.getLines()}function al(e,t){if(t){let n=e.length-1;return e.some((r,i)=>r[0]===C&&(i!==n||r[1]!==`
`))}return e.some(n=>n[0]===C)}function gl(e,t,n){if(e!==t&&e.length!==0&&t.length!==0){let r=e.includes(`
`)||t.includes(`
`),[i,l]=Sn(r?`${e}
`:e,r?`${t}
`:t,!0,n);if(al(i,r)){let u=X(n),o=sl(i,u.changeColor);return qe(o,l,u)}}return _e(e.split(`
`),t.split(`
`),n)}function Sn(e,t,n,r){let[i,l]=ul(e,t,r);return Ui(i),[i,l]}function De(e,t){let{commonColor:n}=X(t);return n(e)}var{AsymmetricMatcher:hl,DOMCollection:ml,DOMElement:fl,Immutable:pl,ReactElement:yl,ReactTestComponent:_l}=rn,En=[_l,yl,fl,ml,pl,hl],Fe={plugins:En},On={callToJSON:!1,maxDepth:10,plugins:En};function bl(e,t,n){if(Object.is(e,t))return"";let r=_t(e),i=r,l=!1;if(r==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return;i=e.getExpectedType(),l=i==="string"}if(i!==_t(t)){let{aAnnotation:u,aColor:o,aIndicator:s,bAnnotation:a,bColor:c,bIndicator:g}=X(n),h=je(On,n),m=z(e,h),f=z(t,h),_=`${o(`${s} ${u}:`)} 
${m}`,b=`${c(`${g} ${a}:`)} 
${f}`;return`${_}

${b}`}if(!l)switch(r){case"string":return _e(e.split(`
`),t.split(`
`),n);case"boolean":case"number":return Sl(e,t,n);case"map":return Ae(Nt(e),Nt(t),n);case"set":return Ae(Rt(e),Rt(t),n);default:return Ae(e,t,n)}}function Sl(e,t,n){let r=z(e,Fe),i=z(t,Fe);return r===i?"":_e(r.split(`
`),i.split(`
`),n)}function Nt(e){return new Map(Array.from(e.entries()).sort())}function Rt(e){return new Set(Array.from(e.values()).sort())}function Ae(e,t,n){let r,i=!1;try{let u=je(Fe,n);r=Mt(e,t,u,n)}catch{i=!0}let l=De(gn,n);if(r===void 0||r===l){let u=je(On,n);r=Mt(e,t,u,n),r!==l&&!i&&(r=`${De(Vi,n)}

${r}`)}return r}function je(e,t){let{compareKeys:n}=X(t);return{...e,compareKeys:n}}function Mt(e,t,n,r){let i={...n,indent:0},l=z(e,i),u=z(t,i);if(l===u)return De(gn,r);{let o=z(e,n),s=z(t,n);return ll(o.split(`
`),s.split(`
`),l.split(`
`),u.split(`
`),r)}}var Pt=2e4;function It(e){return Pe(e)==="Object"&&typeof e.asymmetricMatch=="function"}function Lt(e,t){let n=Pe(e),r=Pe(t);return n===r&&(n==="Object"||n==="Array")}function El(e,t,n){let{aAnnotation:r,bAnnotation:i}=X(n);if(typeof e=="string"&&typeof t=="string"&&e.length>0&&t.length>0&&e.length<=Pt&&t.length<=Pt&&e!==t){if(e.includes(`
`)||t.includes(`
`))return gl(t,e,n);let[a]=Sn(t,e),c=a.some(f=>f[0]===C),g=Ol(r,i),h=g(r)+wl(Dt(a,M,c)),m=g(i)+$l(Dt(a,N,c));return`${h}
${m}`}let l=yt(e,{forceWritable:!0}),u=yt(t,{forceWritable:!0}),{replacedExpected:o,replacedActual:s}=dn(l,u);return bl(o,s,n)}function dn(e,t,n=new WeakSet,r=new WeakSet){return Lt(e,t)?n.has(e)||r.has(t)?{replacedActual:e,replacedExpected:t}:(n.add(e),r.add(t),on(t).forEach(i=>{let l=t[i],u=e[i];if(It(l))l.asymmetricMatch(u)&&(e[i]=l);else if(It(u))u.asymmetricMatch(l)&&(t[i]=u);else if(Lt(u,l)){let o=dn(u,l,n,r);e[i]=o.replacedActual,t[i]=o.replacedExpected}}),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function Ol(...e){let t=e.reduce((n,r)=>r.length>n?r.length:n,0);return n=>`${n}: ${" ".repeat(t-n.length)}`}var dl="·";function $n(e){return e.replace(/\s+$/gm,t=>dl.repeat(t.length))}function $l(e){return W.red($n(ce(e)))}function wl(e){return W.green($n(ce(e)))}function Dt(e,t,n){return e.reduce((r,i)=>r+(i[0]===C?i[1]:i[0]===t?n?W.inverse(i[1]):i[1]:""),"")}var Tl="@@__IMMUTABLE_RECORD__@@",Cl="@@__IMMUTABLE_ITERABLE__@@";function Al(e){return e&&(e[Cl]||e[Tl])}var Nl=Object.getPrototypeOf({});function Ft(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function v(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(Al(e))return v(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if(typeof e.asymmetricMatch=="function")return`${e.toString()} ${Bi(e.sample)}`;if(typeof e.toJSON=="function")return v(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){let n=new Array(e.length);return t.set(e,n),e.forEach((r,i)=>{try{n[i]=v(r,t)}catch(l){n[i]=Ft(l)}}),n}else{let n=Object.create(null);t.set(e,n);let r=e;for(;r&&r!==Nl;)Object.getOwnPropertyNames(r).forEach(i=>{if(!(i in n))try{n[i]=v(e[i],t)}catch(l){delete n[i],n[i]=Ft(l)}}),r=Object.getPrototypeOf(r);return n}}function Rl(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function wn(e,t,n=new WeakSet){if(!e||typeof e!="object")return{message:String(e)};let r=e;r.stack&&(r.stackStr=String(r.stack)),r.name&&(r.nameStr=String(r.name)),(r.showDiff||r.showDiff===void 0&&r.expected!==void 0&&r.actual!==void 0)&&(r.diff=El(r.actual,r.expected,{...t,...r.diffOptions})),typeof r.expected!="string"&&(r.expected=ce(r.expected,10)),typeof r.actual!="string"&&(r.actual=ce(r.actual,10));try{typeof r.message=="string"&&(r.message=Rl(r.message))}catch{}try{!n.has(r)&&typeof r.cause=="object"&&(n.add(r),r.cause=wn(r.cause,t,n))}catch{}try{return v(r)}catch(i){return v(new Error(`Failed to fully serialize error: ${i==null?void 0:i.message}
Inner error message: ${r==null?void 0:r.message}`))}}var Ml=(e=>(e.DONE="done",e.ERROR="error",e.ACTIVE="active",e.WAITING="waiting",e))(Ml||{}),K={CALL:"storybook/instrumenter/call",SYNC:"storybook/instrumenter/sync",START:"storybook/instrumenter/start",BACK:"storybook/instrumenter/back",GOTO:"storybook/instrumenter/goto",NEXT:"storybook/instrumenter/next",END:"storybook/instrumenter/end"},jt={start:!1,back:!1,goto:!1,next:!1,end:!1},Pl=new Error("This function ran after the play function completed. Did you forget to `await` it?"),Bt=e=>Object.prototype.toString.call(e)==="[object Object]",Il=e=>Object.prototype.toString.call(e)==="[object Module]",Ll=e=>{if(!Bt(e)&&!Il(e))return!1;if(e.constructor===void 0)return!0;let t=e.constructor.prototype;return!!Bt(t)},Dl=e=>{try{return new e.constructor}catch{return{}}},Ne=()=>({renderPhase:void 0,isDebugging:!1,isPlaying:!1,isLocked:!1,cursor:0,calls:[],shadowCalls:[],callRefsByResult:new Map,chainedCallIds:new Set,ancestors:[],playUntil:void 0,resolvers:{},syncTimeout:void 0}),xt=(e,t=!1)=>{let n=(t?e.shadowCalls:e.calls).filter(i=>i.retain);if(!n.length)return;let r=new Map(Array.from(e.callRefsByResult.entries()).filter(([,i])=>i.retain));return{cursor:n.length,calls:n,callRefsByResult:r}},Fl=class{constructor(){var u;this.initialized=!1,this.channel=Wn.getChannel(),this.state=((u=P.window)==null?void 0:u.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__)||{};let e=({storyId:o,isPlaying:s=!0,isDebugging:a=!1})=>{let c=this.getState(o);this.setState(o,{...Ne(),...xt(c,a),shadowCalls:a?c.shadowCalls:[],chainedCallIds:a?c.chainedCallIds:new Set,playUntil:a?c.playUntil:void 0,isPlaying:s,isDebugging:a}),this.sync(o)};this.channel.on(Je,e),this.channel.on(Yn,({storyId:o,newPhase:s})=>{let{isDebugging:a}=this.getState(o);this.setState(o,{renderPhase:s}),s==="preparing"&&a&&e({storyId:o}),s==="playing"&&e({storyId:o,isDebugging:a}),s==="played"&&this.setState(o,{isLocked:!1,isPlaying:!1,isDebugging:!1}),s==="errored"&&this.setState(o,{isLocked:!1,isPlaying:!1})}),this.channel.on(Kn,()=>{this.initialized?this.cleanup():this.initialized=!0});let t=({storyId:o,playUntil:s})=>{this.getState(o).isDebugging||this.setState(o,({calls:c})=>({calls:[],shadowCalls:c.map(g=>({...g,status:"waiting"})),isDebugging:!0}));let a=this.getLog(o);this.setState(o,({shadowCalls:c})=>{var h;if(s||!a.length)return{playUntil:s};let g=c.findIndex(m=>m.id===a[0].callId);return{playUntil:(h=c.slice(0,g).filter(m=>m.interceptable&&!m.ancestors.length).slice(-1)[0])==null?void 0:h.id}}),this.channel.emit(Je,{storyId:o,isDebugging:!0})},n=({storyId:o})=>{var c;let s=this.getLog(o).filter(g=>!g.ancestors.length),a=s.reduceRight((g,h,m)=>g>=0||h.status==="waiting"?g:m,-1);t({storyId:o,playUntil:(c=s[a-1])==null?void 0:c.callId})},r=({storyId:o,callId:s})=>{var f;let{calls:a,shadowCalls:c,resolvers:g}=this.getState(o),h=a.find(({id:_})=>_===s),m=c.find(({id:_})=>_===s);if(!h&&m&&Object.values(g).length>0){let _=(f=this.getLog(o).find(b=>b.status==="waiting"))==null?void 0:f.callId;m.id!==_&&this.setState(o,{playUntil:m.id}),Object.values(g).forEach(b=>b())}else t({storyId:o,playUntil:s})},i=({storyId:o})=>{var a;let{resolvers:s}=this.getState(o);if(Object.values(s).length>0)Object.values(s).forEach(c=>c());else{let c=(a=this.getLog(o).find(g=>g.status==="waiting"))==null?void 0:a.callId;c?t({storyId:o,playUntil:c}):l({storyId:o})}},l=({storyId:o})=>{this.setState(o,{playUntil:void 0,isDebugging:!1}),Object.values(this.getState(o).resolvers).forEach(s=>s())};this.channel.on(K.START,t),this.channel.on(K.BACK,n),this.channel.on(K.GOTO,r),this.channel.on(K.NEXT,i),this.channel.on(K.END,l)}getState(e){return this.state[e]||Ne()}setState(e,t){var i;let n=this.getState(e),r=typeof t=="function"?t(n):t;this.state={...this.state,[e]:{...n,...r}},(i=P.window)!=null&&i.parent&&(P.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state)}cleanup(){var t;this.state=Object.entries(this.state).reduce((n,[r,i])=>{let l=xt(i);return l&&(n[r]=Object.assign(Ne(),l)),n},{});let e={controlStates:jt,logItems:[]};this.channel.emit(K.SYNC,e),(t=P.window)!=null&&t.parent&&(P.window.parent.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER_STATE__=this.state)}getLog(e){let{calls:t,shadowCalls:n}=this.getState(e),r=[...n];t.forEach((l,u)=>{r[u]=l});let i=new Set;return r.reduceRight((l,u)=>(u.args.forEach(o=>{o!=null&&o.__callId__&&i.add(o.__callId__)}),u.path.forEach(o=>{o.__callId__&&i.add(o.__callId__)}),(u.interceptable||u.exception)&&!i.has(u.id)&&(l.unshift({callId:u.id,status:u.status,ancestors:u.ancestors}),i.add(u.id)),l),[])}instrument(e,t,n=0){if(!Ll(e))return e;let{mutate:r=!1,path:i=[]}=t,l=t.getKeys?t.getKeys(e,n):Object.keys(e);return n+=1,l.reduce((u,o)=>{let s=jl(e,o);if(typeof(s==null?void 0:s.get)=="function"){let c=()=>{var g,h;return(h=(g=s==null?void 0:s.get)==null?void 0:g.bind(e))==null?void 0:h()};return Object.defineProperty(u,o,{get:()=>this.instrument(c(),{...t,path:i.concat(o)},n)}),u}let a=e[o];return typeof a!="function"?(u[o]=this.instrument(a,{...t,path:i.concat(o)},n),u):"__originalFn__"in a&&typeof a.__originalFn__=="function"?(u[o]=a,u):(u[o]=(...c)=>this.track(o,a,e,c,t),u[o].__originalFn__=a,Object.defineProperty(u[o],"name",{value:o,writable:!1}),Object.keys(a).length>0&&Object.assign(u[o],this.instrument({...a},{...t,path:i.concat(o)},n)),u)},r?e:Dl(e))}track(e,t,n,r,i){var _,b,O,p;let l=((_=r==null?void 0:r[0])==null?void 0:_.__storyId__)||((p=(O=(b=P.__STORYBOOK_PREVIEW__)==null?void 0:b.selectionStore)==null?void 0:O.selection)==null?void 0:p.storyId),{cursor:u,ancestors:o}=this.getState(l);this.setState(l,{cursor:u+1});let s=`${o.slice(-1)[0]||l} [${u}] ${e}`,{path:a=[],intercept:c=!1,retain:g=!1}=i,h=typeof c=="function"?c(e,a):c,m={id:s,cursor:u,storyId:l,ancestors:o,path:a,method:e,args:r,interceptable:h,retain:g},f=(h&&!o.length?this.intercept:this.invoke).call(this,t,n,m,i);return this.instrument(f,{...i,mutate:!0,path:[{__callId__:m.id}]})}intercept(e,t,n,r){let{chainedCallIds:i,isDebugging:l,playUntil:u}=this.getState(n.storyId),o=i.has(n.id);return!l||o||u?(u===n.id&&this.setState(n.storyId,{playUntil:void 0}),this.invoke(e,t,n,r)):new Promise(s=>{this.setState(n.storyId,({resolvers:a})=>({isLocked:!1,resolvers:{...a,[n.id]:s}}))}).then(()=>(this.setState(n.storyId,s=>{let{[n.id]:a,...c}=s.resolvers;return{isLocked:!0,resolvers:c}}),this.invoke(e,t,n,r)))}invoke(e,t,n,r){let{callRefsByResult:i,renderPhase:l}=this.getState(n.storyId),u=25,o=(c,g,h)=>{var m,f,_;if(h.includes(c))return"[Circular]";if(h=[...h,c],g>u)return"...";if(i.has(c))return i.get(c);if(c instanceof Array)return c.map(b=>o(b,++g,h));if(c instanceof Date)return{__date__:{value:c.toISOString()}};if(c instanceof Error){let{name:b,message:O,stack:p}=c;return{__error__:{name:b,message:O,stack:p}}}if(c instanceof RegExp){let{flags:b,source:O}=c;return{__regexp__:{flags:b,source:O}}}if(c instanceof((m=P.window)==null?void 0:m.HTMLElement)){let{prefix:b,localName:O,id:p,classList:$,innerText:E}=c,y=Array.from($);return{__element__:{prefix:b,localName:O,id:p,classNames:y,innerText:E}}}return typeof c=="function"?{__function__:{name:"getMockName"in c?c.getMockName():c.name}}:typeof c=="symbol"?{__symbol__:{description:c.description}}:typeof c=="object"&&((f=c==null?void 0:c.constructor)!=null&&f.name)&&((_=c==null?void 0:c.constructor)==null?void 0:_.name)!=="Object"?{__class__:{name:c.constructor.name}}:Object.prototype.toString.call(c)==="[object Object]"?Object.fromEntries(Object.entries(c).map(([b,O])=>[b,o(O,++g,h)])):c},s={...n,args:n.args.map(c=>o(c,0,[]))};n.path.forEach(c=>{c!=null&&c.__callId__&&this.setState(n.storyId,({chainedCallIds:g})=>({chainedCallIds:new Set(Array.from(g).concat(c.__callId__))}))});let a=c=>{if(c instanceof Error){let{name:g,message:h,stack:m,callId:f=n.id}=c,{showDiff:_=void 0,diff:b=void 0,actual:O=void 0,expected:p=void 0}=c.name==="AssertionError"?wn(c):c,$={name:g,message:h,stack:m,callId:f,showDiff:_,diff:b,actual:O,expected:p};if(this.update({...s,status:"error",exception:$}),this.setState(n.storyId,E=>({callRefsByResult:new Map([...Array.from(E.callRefsByResult.entries()),[c,{__callId__:n.id,retain:n.retain}]])})),n.ancestors.length)throw Object.prototype.hasOwnProperty.call(c,"callId")||Object.defineProperty(c,"callId",{value:n.id}),c}throw c};try{if(l==="played"&&!n.retain)throw Pl;let c=(r.getArgs?r.getArgs(n,this.getState(n.storyId)):n.args).map(h=>typeof h!="function"||Object.keys(h).length?h:(...m)=>{let{cursor:f,ancestors:_}=this.getState(n.storyId);this.setState(n.storyId,{cursor:0,ancestors:[..._,n.id]});let b=()=>this.setState(n.storyId,{cursor:f,ancestors:_}),O=!1;try{let p=h(...m);return p instanceof Promise?(O=!0,p.finally(b)):p}finally{O||b()}}),g=e.apply(t,c);return g&&["object","function","symbol"].includes(typeof g)&&this.setState(n.storyId,h=>({callRefsByResult:new Map([...Array.from(h.callRefsByResult.entries()),[g,{__callId__:n.id,retain:n.retain}]])})),this.update({...s,status:g instanceof Promise?"active":"done"}),g instanceof Promise?g.then(h=>(this.update({...s,status:"done"}),h),a):g}catch(c){return a(c)}}update(e){this.channel.emit(K.CALL,e),this.setState(e.storyId,({calls:t})=>{let n=t.concat(e).reduce((r,i)=>Object.assign(r,{[i.id]:i}),{});return{calls:Object.values(n).sort((r,i)=>r.id.localeCompare(i.id,void 0,{numeric:!0}))}}),this.sync(e.storyId)}sync(e){let t=()=>{var a;let{isLocked:n,isPlaying:r}=this.getState(e),i=this.getLog(e),l=(a=i.filter(({ancestors:c})=>!c.length).find(c=>c.status==="waiting"))==null?void 0:a.callId,u=i.some(c=>c.status==="active");if(n||u||i.length===0){let c={controlStates:jt,logItems:i};this.channel.emit(K.SYNC,c);return}let o=i.some(c=>c.status==="done"||c.status==="error"),s={controlStates:{start:o,back:o,goto:!0,next:r,end:r},logItems:i,pausedAt:l};this.channel.emit(K.SYNC,s)};this.setState(e,({syncTimeout:n})=>(clearTimeout(n),{syncTimeout:setTimeout(t,0)}))}};function xl(e,t={}){var n,r,i,l,u,o,s,a;try{let c=!1,g=!1;return(i=(r=(n=P.window)==null?void 0:n.location)==null?void 0:r.search)!=null&&i.includes("instrument=true")?c=!0:(o=(u=(l=P.window)==null?void 0:l.location)==null?void 0:u.search)!=null&&o.includes("instrument=false")&&(g=!0),((s=P.window)==null?void 0:s.parent)===P.window&&!c||g?e:(P.window&&!P.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__&&(P.window.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__=new Fl),((a=P.window)==null?void 0:a.__STORYBOOK_ADDON_INTERACTIONS_INSTRUMENTER__).instrument(e,t))}catch(c){return Un.warn(c),e}}function jl(e,t){let n=e;for(;n!=null;){let r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}export{xl as i};
